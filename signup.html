<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>one</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/ABeeZee.css?h=c54efe6b252f9969e1b3d6e246bcdc7c">
    <link rel="stylesheet" href="/assets/css/Aclonica.css?h=97b1e26ff00c4959d0a130b0eb7e7f79">
    <link rel="stylesheet" href="/assets/css/ADLaM%20Display.css?h=ad7ee3830a3d458b41538812e33fac02">
    <link rel="stylesheet" href="/assets/css/Agbalumo.css?h=499695abc466939d36755e530011015f">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Calendar.css?h=25a4143cdb7bc09ae8bd665f3ad1f911">
    <link rel="stylesheet" href="/assets/css/CanitoFormularioCompra2.css?h=99af41d95d8b0a00261b498825155ac5">
    <link rel="stylesheet" href="/assets/css/Easy-Contact-Form.css?h=88d6f09decefaba4ff1d58c3ec9a62d6">
    <link rel="stylesheet" href="/assets/css/Navbar-Right-Links-icons.css?h=befd8a398792e305b7ffd4a176b5b585">
    <link rel="stylesheet" href="/assets/css/Pretty-Registration-Form-.css?h=74cbd162836abb1eda12ebcad200c88a">
    <link rel="stylesheet" href="/assets/css/Profile-Edit-Form-styles.css?h=941c84e96020d5a5b03f80619fed6ea9">
    <link rel="stylesheet" href="/assets/css/Profile-Edit-Form.css?h=5ecb76a1061fdd34dcc451bc4075f02d">
</head>

<body style="background: #171f39;">
    <!-- Start: Navbar Right Links -->
    <nav class="navbar navbar-expand-md bg-body py-3" style="height: 107px;background: #171f39;">
        <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"><span><img src="/assets/img/logo.png?h=715e274e9aeb51125d08eb27e5122285" style="width: 90px;height: 90px;" width="100" height="100"></span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
        </div>
    </nav><!-- End: Navbar Right Links -->
    <!-- Start: Contact Form Basic -->
    <section class="position-relative py-4 py-xl-5" style="background: #171f39;margin-top: 126px;">
        <div class="container position-relative">
            <div class="row d-flex justify-content-center">
                <div class="col-md-8 col-lg-6 col-xl-5 col-xxl-5">
                    <div class="card mb-5">
                        <div class="card-body p-sm-5">
                            <h2 class="text-center mb-4" style="font-family: ABeeZee, sans-serif;">Register</h2>
                            <form id="registerForm" method="post">
                                <!-- Start: Success Example -->
                                <div class="mb-3"><input class="form-control" type="text" id="fname" name="fname" placeholder="First Name" style="font-family: ABeeZee, sans-serif;" required></div>
                                <!-- End: Success Example --><input class="form-control" type="text" id="lname" name="lname" placeholder="Last Name" style="font-family: ABeeZee, sans-serif;" required><!-- Start: Error Example -->
                                <div class="mb-3"></div><!-- End: Error Example --><input class="form-control" type="email" id="email-2" name="email" placeholder="Email" style="font-family: ABeeZee, sans-serif;"><div class="mb-3"><input class="form-control" type="password" id="password" name="password" placeholder="Password" style="font-family: ABeeZee, sans-serif;" required></div>
                                <div class="mb-3"></div>
                                <div><button class="btn btn-primary d-block w-100" type="submit" style="background: #ffdd68;border-color: #ffdd68;">Sign Up</button></div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section><!-- End: Contact Form Basic -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/bs-init.js?h=de3d39894fddf69026710ea6bd84d452"></script>
    <script src="https://geodata.solutions/includes/countrystate.js"></script>
    <script src="/assets/js/Profile-Edit-Form-profile.js?h=36f16d72db7b5e137e5f6f74a6f95a32"></script>
    <script>
        document.getElementById("registerForm").addEventListener('submit', async (event) => {
            event.preventDefault();

            try {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                const fname = document.getElementById('fname').value;
                const lname = document.getElementById('lname').value;
                const email = document.getElementById('email').value;

                const response = await fetch("http://localhost:3000/register", {
                    method: "POST",
                    headers: {
                        'Content-Type': "application/json"
                    },
                    body: JSON.stringify({ username, password, fname, lname, email })
                });

                const data = await response.json();

                if (response.ok) {
                    alert(data.message);
                    window.location.href = "/login.html";

                } else {
                    alert("Registration Failed: ${data.message}");
                }

            } catch (error) {
                console.error("Error registering:", error);
                alert("Error occurred while registering, try again.");
            }
        });
        

    </script>
</body>

</html>